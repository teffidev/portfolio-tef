---
const experiencias = [
  {
    cargo: "Freelance Developer",
    empresa: "Self-employed",
    periodo: "May 2025 - Currently",
    description: "Design and development of web and mobile applications, covering the entire lifecycle, from requirements analysis and wireframe creation to the implementation of high-performance, user-centred UI/UX solutions. Experience in creating responsive web platforms, cross-platform mobile applications, and integrating REST and GraphQL APIs. Strong focus on performance optimization, accessibility, and scalable front-end architectures. Creating tests to find and document bugs, inconsistencies, and other defects to ensure that software meets high standards.",
    logros: [
      "Designed and developed a mobile application for business logo creation, providing users with guided recommendations for color palettes, typography, and branding elements.",
      "Led the UX design and development of a food delivery mobile application, from wireframing in Figma to implementation in React Native with real-time location-based features.",
      "Developed custom WordPress landing pages from scratch, including multilingual support (Arabic and Spanish) and UX-focused designs using Elementor."
    ],
    technologies: ["HTML5", "CSS3", "JavaScript", "TypeScript", "React", "React Native", "Expo Go", "Next.js", "Astro", "WordPress", "TailwindCSS", "Figma", "Storybook", "Cypress", "Express.js", "GraphQL", "Node.js", "MySQL", "MongoDB", "Git", "GitHub"],
  },
  {
    cargo: "Frontend Developer",
    empresa: "Medusa Lab AI",
    periodo: "July 2024 - March 2025",
    description: "Frontend development for multiple international clients, building scalable web and mobile applications using React, Next.js, TypeScript, and TailwindCSS. Contributed to the design and implementation of modular architectures, authentication flows, and data-driven dashboards. Worked closely with product and backend teams to deliver performant, user-centered solutions across admin platforms, mobile applications, and client-facing systems.",
    logros: [
      "Developed a full logistics management platform for an import and freight company, including an admin web application with authentication, shipment traceability (LCL, FCL, FTL, LTL), inventory management, and document handling.",
      "Built a mobile application for transport operators, enabling real-time shipment updates through QR code scanning and live delivery tracking.",
      "Implemented a client-facing web application that allowed customers to securely upload documents, track shipments, and manage delivery information.",
      "Contributed to the development of a task management platform for a U.S.-based company, building separate web and mobile applications for administrators and field employees.",
      "Improved application performance and code maintainability by applying front-end best practices and scalable UI architecture patterns.",
      "Developed high-performance landing pages using Astro and React, focusing on SEO, responsiveness, and modern UI/UX principles."
    ],
    technologies: ["HTML5", "CSS3", "JavaScript", "TypeScript", "Node.js", "React", "Next.js", "Ionic", "TailwindCSS", "Astro", "GraphQL"],
  },
  {
    cargo: "Developer Trainee",
    empresa: "Byte4Bit",
    periodo: "March 2023 - July 2024",
    description: "Frontend development and maintenance of web applications for multiple clients, contributing to a large-scale CRM platform similar to Salesforce. Worked on the implementation of new features, performance improvements, and automated testing. Collaborated closely with backend and database teams, following agile planning and delivery processes, while rapidly learning modern frontend technologiesnologies and testing practices.",
    logros: [
      "Developed key sections of a custom CRM platform similar to Salesforce, including a comprehensive purchasing module handling product acquisition, discounts, digital invoicing, and invoice downloads.",
      "Worked closely with backend and database developers to implement end-to-end features and ensure correct data handling and business logic integration.",
      "Implemented automated end-to-end testing using Cypress, reducing manual testing time by approximately 50% while improving application reliability and accessibility.",
      "Contributed within agile planning cycles, meeting sprint goals and delivery timelines while continuously improving code quality.",
      "Developed a web platform from scratch that enabled independent service providers to create profiles, manage content, and monetize their services through digital payments and downloadable assets."
    ],
    technologies: ["React", "Next.js", "TypeScript", "Storybook", "Cypress", "GraphQL"],
  },
];

// Íconos para las tecnologías (usando la librería simple-icons para mantener consistencia)
const technologiesIcons: Record<string, string> = {
  "HTML5": "html5",
  "CSS3": "css",
  "JavaScript": "javascript",
  "TypeScript": "typescript",
  "React": "react",
  "React Native": "react",
  "Expo Go": "expo",
  "Ionic": "ionic",
  "Next.js": "nextdotjs",
  "Astro": "astro",
  "WordPress": "wordpress",
  "TailwindCSS": "tailwindcss",
  "Figma": "figma",
  "Storybook": "storybook",
  "Cypress": "cypress",
  "Express.js": "express",
  "GraphQL": "graphql",
  "Node.js": "nodedotjs",
  "MySQL": "mysql",
  "MongoDB": "mongodb",
  "Git": "git",
  "GitHub": "github",
};
---

<section id="experiencia" class="py-20 bg-light-background dark:bg-dark-background relative overflow-hidden">
  <!-- Elementos decorativos de fondo -->
  <div class="absolute inset-0 -z-10 opacity-30">
    <div class="absolute top-0 right-0 w-1/3 h-1/3 bg-gradient-to-bl from-primary-100/40 to-transparent dark:from-primary-900/20 blur-3xl"></div>
    <div class="absolute bottom-0 left-0 w-1/3 h-1/3 bg-gradient-to-tr from-secondary-100/40 to-transparent dark:from-secondary-900/20 blur-3xl"></div>
  </div>

  <div class="container mx-auto px-4">
    <div 
      class="text-center max-w-3xl mx-auto mb-16"
      data-aos="fade-up"
      data-aos-duration="800"
    >
      <h2 class="text-3xl md:text-4xl font-sans font-bold mb-4 relative inline-block">
        Experience
        <span class="absolute -bottom-2 left-0 w-full h-1 bg-primary-500/30 rounded"></span>
      </h2>
      <p class="text-lg text-neutral-600 dark:text-neutral-400 mt-6">
        My professional career in the world of web and mobile development.
      </p>
    </div>
    
    <div class="max-w-4xl mx-auto">
      <div class="relative border-l-2 border-primary-300 dark:border-primary-700 pl-8 ml-4 md:ml-8">
        {experiencias.map((exp, index) => (
          <div 
            class="mb-16 relative" 
            data-aos="fade-up"
            data-aos-duration="800"
            data-aos-delay={index * 150}
          >
            <!-- Indicador en la línea de tiempo -->
            <div class="absolute -left-[41px] -top-1 w-7 h-7 rounded-full border-4 border-primary-100 dark:border-primary-900 bg-primary-500 shadow-md shadow-primary-500/20 dark:shadow-primary-500/10 timeline-dot"></div>
            
            <!-- Contenido -->
            <div class="bg-white/90 backdrop-blur-sm dark:bg-dark-surface/90 rounded-xl p-6 md:p-8 shadow-lg hover:shadow-xl transition-all duration-300 border border-neutral-200/80 dark:border-neutral-700/80 transform hover:-translate-y-1 group">
              <!-- Encabezado -->
              <div class="flex flex-col md:flex-row md:items-center justify-between mb-6 pb-4 border-b border-neutral-200 dark:border-neutral-700/50">
                <div>
                  <h3 class="text-xl md:text-2xl font-bold text-neutral-900 dark:text-neutral-100 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors">
                    {exp.cargo}
                  </h3>
                  <div class="flex items-center mt-2">
                    <p class="text-secondary-600 dark:text-secondary-400 font-medium">
                      {exp.empresa}
                    </p>
                  </div>
                </div>
                <span class="text-sm font-medium text-neutral-500 dark:text-neutral-400 bg-neutral-100/80 dark:bg-neutral-800/80 px-4 py-1.5 rounded-full mt-3 md:mt-0 inline-block border border-neutral-200/50 dark:border-neutral-700/50">
                  {exp.periodo}
                </span>
              </div>
              
              <p class="text-neutral-700 dark:text-neutral-300 mb-6 leading-relaxed">{exp.description}</p>
              
              <!-- Logros -->
              {exp.logros && exp.logros.length > 0 && (
                <div class="mb-6 bg-primary-50/50 dark:bg-primary-900/10 p-4 rounded-lg border-l-4 border-primary-500 dark:border-primary-600">
                  <h4 class="text-sm font-bold text-primary-800 dark:text-primary-300 mb-3 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                    Achievements
                  </h4>
                  <ul class="space-y-3 text-sm md:text-base text-neutral-700 dark:text-neutral-300">
                    {exp.logros.map(logro => (
                      <li class="flex items-start">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-primary-500 dark:text-primary-400 mt-0.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span>{logro}</span>
                      </li>
                    ))}
                  </ul>
                </div>
              )}
              
              <!-- Tecnologías -->
              <div class="flex flex-wrap gap-2 mt-6">
                {exp.technologies.map(technologies => {
                  // Comprobamos si existe el icono antes de usarlo
                  const hasIcon = Object.prototype.hasOwnProperty.call(technologiesIcons, technologies);
                  const iconName = hasIcon ? technologiesIcons[technologies] : technologies.toLowerCase();
                  
                  return (
                    <span class="px-3 py-1.5 text-xs font-medium bg-neutral-100 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200 rounded-full flex items-center group-hover:bg-white dark:group-hover:bg-neutral-700 transition-colors shadow-sm">
                      {hasIcon && (
                        <img 
                          src={`https://cdn.simpleicons.org/${iconName}`} 
                          alt={`${technologies} icon`}
                          class="w-3.5 h-3.5 mr-1.5" 
                        />
                      )}
                      {technologies}
                    </span>
                  )
                })}
              </div>
            </div>
          </div>
        ))}

        <!-- Indicador final de la línea de tiempo -->
        <div 
          class="absolute -bottom-4 -left-[25px] w-12 h-12 rounded-full border-4 border-primary-100 dark:border-primary-900 bg-primary-100 dark:bg-primary-900 flex items-center justify-center shadow-lg shadow-primary-300/20 dark:shadow-primary-700/20"
          data-aos="zoom-in"
          data-aos-delay="600"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary-600 dark:text-primary-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
/* Animación para los puntos de la línea de tiempo */
@keyframes pulseGlow {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(236, 72, 153, 0.4);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(236, 72, 153, 0);
  }
}

.timeline-dot {
  animation: pulseGlow 3s infinite;
  animation-delay: calc(var(--order, 0) * 1s);
}

/* Establecer diferentes retrasos para cada punto */
.timeline-dot:nth-child(1) {
  --order: 0;
}
.timeline-dot:nth-child(2) {
  --order: 1;
}
</style>